"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var postcss=_interopDefault(require("postcss")),purgecss=require("purgecss");const purgeCSSPlugin=postcss.plugin("postcss-plugin-purgecss",(function(e){return async function(s,r){const t={...purgecss.defaultOptions,...e};purgecss.setPurgeCSSOptions(t);const{content:c,extractors:o}=t,u=c.filter(e=>"string"==typeof e),p=c.filter(e=>"object"==typeof e),n=await purgecss.extractSelectorsFromFiles(u,o),g=purgecss.extractSelectorsFromString(p,o),i=new Set([...n,...g]);purgecss.walkThroughCSS(s,i),t.fontFace&&purgecss.removeUnusedFontFaces(),t.keyframes&&purgecss.removeUnusedKeyframes(),t.rejected&&purgecss.selectorsRemoved.size>0&&(r.messages.push({type:"purgecss",plugin:"postcss-purgecss",text:`purging ${purgecss.selectorsRemoved.size} selectors:\n        ${Array.from(purgecss.selectorsRemoved).map(e=>e.trim()).join("\n  ")}`}),purgecss.selectorsRemoved.clear())}}));module.exports=purgeCSSPlugin;
